import{bm as W,d as l,b as e,f as t,T as m,bn as T,Q as f,bo as A,bp as o,bq as E,br as u,Z as z,O as b,r as i,aX as M,a as O,a5 as B,bs as P,bt as y,aC as j,bu as G,bv as R,bw as K,aT as C,G as w,h as v,g as Z}from"./index-Do-vtNvr.js";import{p as q}from"./artifacts-C1tSPluj.js";function H({perfect_set:r}){const p=W(r.setKey,"flower");return l(b,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:"0!important",width:"100%",minHeight:"367px"},children:[e(t,{sx:{position:"relative",mb:2},children:l(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e(m,{variant:"h6",children:e(T,{location:r.character})}),l(t,{sx:{display:"flex",gap:.5,marginLeft:"auto"},children:[r.matches!==void 0&&e(f,{label:`Match: ${r.matches}/4`,color:"primary",size:"small",sx:{fontWeight:"bold"}}),e(f,{label:"CRIT",color:r.critUser?"success":"error",size:"small",sx:{fontWeight:"bold"}})]})]})}),l(t,{sx:{display:"flex",alignItems:"center",mb:2,bgcolor:"rgba(0,0,0,0.1)",p:1,borderRadius:1},children:[e(t,{component:u?u:"img",alt:"Set Image",src:p,sx:{width:48,height:48,mr:2}}),e(t,{children:e(m,{color:"text.secondary",variant:"body2",sx:{display:"flex",gap:.5,alignItems:"center"},children:e("strong",{children:r.setKey.replace(/([a-z])([A-Z])/g,"$1 $2")})})})]}),r.weapons&&r.weapons.length>0&&e(t,{sx:{display:"flex",gap:1,alignItems:"center",mt:1,mb:2},children:r.weapons.map(s=>{console.log(s);const c=A(s,!1),h=o.t(`weaponNames_gen:${s}`);return e(E,{title:e(m,{children:h}),placement:"top",arrow:!0,children:e(t,{component:u?u:"img",src:c??"",width:"auto",height:40,sx:{cursor:"default"}})},s)})}),e(t,{sx:{display:"flex",flexDirection:"column",gap:.5},children:["flower","plume","sands","goblet","circlet"].map(s=>e(t,{sx:{p:.75,borderRadius:1,bgcolor:"rgba(0,0,0,0.05)","&:hover":{bgcolor:"rgba(0,0,0,0.1)"}},children:l(m,{variant:"subtitle2",sx:{display:"flex",alignItems:"center",gap:1,color:s===r.slotKey?"#DE79F0":"inherit"},children:[e(z,{iconProps:{fontSize:"inherit"},slotKey:s}),l(t,{sx:{display:"flex",gap:1},children:[l("span",{style:{textTransform:"capitalize",fontWeight:"bold",minWidth:"60px",color:s===r.slotKey?"#DE79F0":"inherit"},children:[s,":"]}),e("span",{style:{color:s===r.slotKey?"#DE79F0":"inherit"},children:r[s].split("+").map((c,h)=>h===0?e("span",{style:{color:"#FFA500"},children:c},h):l("span",{children:["+",c]},h))})]})]})},s))})]})}function V(){const{silly:r}=i.useContext(M),p=O(),s=B(p.displayArchive),[c,h]=i.useState(""),d=i.useDeferredValue(c),{character:n}=s,I=i.useMemo(()=>P.filter(a=>{const{rarity:x,weaponType:$}=y(a);if(!n.rarity.includes(x)||!n.weaponType.includes($))return!1;const D=o.t(`charNames_gen:${a}`),F=r&&o.exists(`sillyWisher_charNames:${a}`)?o.t(`sillyWisher_charNames:${a}`):"";return!(d&&!D.toLocaleLowerCase().includes(d.toLocaleLowerCase())&&!F.toLocaleLowerCase().includes(d.toLocaleLowerCase()))}),[n,d,r]),S=i.useMemo(()=>j([n.sortOrderBy],n.sortOrder==="asc",{name:a=>r&&o.exists(`sillyWisher_charNames:${a}`)?o.t(`sillyWisher_charNames:${a}`):o.t(`charNames_gen:${a}`),rarity:a=>y(a).rarity,element:a=>Z(a),type:a=>y(a).weaponType}),[n.sortOrder,n.sortOrderBy,r]),L=i.useMemo(()=>I.sort(S)),[g,N]=i.useState("");return e(v,{children:l(b,{children:[l(G,{fullWidth:!0,children:[e(R,{children:"Character"}),l(K,{value:g,onChange:a=>N(a.target.value),label:"Character",children:[e(C,{value:"",children:"None"}),L.map(a=>e(C,{value:a,children:e(t,{sx:{display:"flex",alignItems:"center",gap:1},children:e(T,{location:a})})},a))]})]}),e(w,{container:!0,spacing:2,children:q.filter(a=>g===""?!0:a.character===g).map((a,x)=>e(w,{item:!0,xs:6,children:e(v,{children:e(b,{children:e(t,{sx:{position:"relative"},children:e(H,{perfect_set:a})})})})},x))})]})})}export{V as default};
