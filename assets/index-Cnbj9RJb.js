import{bm as $,d as s,b as e,f as t,T as m,bn as T,Q as b,Z as E,O as g,bo as f,r as i,aX as z,a as A,a5 as K,bp as M,bq as x,br as o,aC as O,bs as B,bt as P,bu as j,aT as C,G as v,h as w,g as G}from"./index-ruq-1QDl.js";import{p as R}from"./artifacts-SGBo4Oe_.js";function Z({perfect_set:a}){const u=$(a.setKey,"flower");return s(g,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:"0!important",width:"100%",minHeight:"367px"},children:[e(t,{sx:{position:"relative",mb:2},children:s(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e(m,{variant:"h6",children:e(T,{location:a.character})}),s(t,{sx:{display:"flex",gap:.5,marginLeft:"auto"},children:[a.matches!==void 0&&e(b,{label:`Match: ${a.matches}/4`,color:"primary",size:"small",sx:{fontWeight:"bold"}}),e(b,{label:"CRIT",color:a.critUser?"success":"error",size:"small",sx:{fontWeight:"bold"}})]})]})}),s(t,{sx:{display:"flex",alignItems:"center",mb:2,bgcolor:"rgba(0,0,0,0.1)",p:1,borderRadius:1},children:[e(t,{component:f?f:"img",alt:"Set Image",src:u,sx:{width:48,height:48,mr:2}}),s(t,{children:[e(m,{color:"text.secondary",variant:"body2",sx:{display:"flex",gap:.5,alignItems:"center"},children:e("strong",{children:a.setKey.replace(/([a-z])([A-Z])/g,"$1 $2")})}),e(m,{variant:"body2",color:"text.secondary",children:a.description})]})]}),e(t,{sx:{display:"flex",flexDirection:"column",gap:.5},children:["flower","plume","sands","goblet","circlet"].map(l=>e(t,{sx:{p:.75,borderRadius:1,bgcolor:"rgba(0,0,0,0.05)","&:hover":{bgcolor:"rgba(0,0,0,0.1)"}},children:s(m,{variant:"subtitle2",sx:{display:"flex",alignItems:"center",gap:1,color:l===a.slotKey?"#DE79F0":"inherit"},children:[e(E,{iconProps:{fontSize:"inherit"},slotKey:l}),s(t,{sx:{display:"flex",gap:1},children:[s("span",{style:{textTransform:"capitalize",fontWeight:"bold",minWidth:"60px",color:l===a.slotKey?"#DE79F0":"inherit"},children:[l,":"]}),e("span",{style:{color:l===a.slotKey?"#DE79F0":"inherit"},children:a[l].split("+").map((c,h)=>h===0?e("span",{style:{color:"#FFA500"},children:c},h):s("span",{children:["+",c]},h))})]})]})},l))})]})}function Q(){const{silly:a}=i.useContext(z),u=A(),l=K(u.displayArchive),[c,h]=i.useState(""),d=i.useDeferredValue(c),{character:n}=l,I=i.useMemo(()=>M.filter(r=>{const{rarity:y,weaponType:F}=x(r);if(!n.rarity.includes(y)||!n.weaponType.includes(F))return!1;const N=o.t(`charNames_gen:${r}`),W=a&&o.exists(`sillyWisher_charNames:${r}`)?o.t(`sillyWisher_charNames:${r}`):"";return!(d&&!N.toLocaleLowerCase().includes(d.toLocaleLowerCase())&&!W.toLocaleLowerCase().includes(d.toLocaleLowerCase()))}),[n,d,a]),S=i.useMemo(()=>O([n.sortOrderBy],n.sortOrder==="asc",{name:r=>a&&o.exists(`sillyWisher_charNames:${r}`)?o.t(`sillyWisher_charNames:${r}`):o.t(`charNames_gen:${r}`),rarity:r=>x(r).rarity,element:r=>G(r),type:r=>x(r).weaponType}),[n.sortOrder,n.sortOrderBy,a]),L=i.useMemo(()=>I.sort(S)),[p,D]=i.useState("");return e(w,{children:s(g,{children:[s(B,{fullWidth:!0,children:[e(P,{children:"Character"}),s(j,{value:p,onChange:r=>D(r.target.value),label:"Character",children:[e(C,{value:"",children:"None"}),L.map(r=>e(C,{value:r,children:e(t,{sx:{display:"flex",alignItems:"center",gap:1},children:e(T,{location:r})})},r))]})]}),e(v,{container:!0,spacing:2,children:R.filter(r=>p===""?!0:r.character===p).map((r,y)=>e(v,{item:!0,xs:6,children:e(w,{children:e(g,{children:e(t,{sx:{position:"relative"},children:e(Z,{perfect_set:r})})})})},y))})]})})}export{Q as default};
